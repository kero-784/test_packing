const translations = {
    'en': {
        'packing_stock': 'Packing Stock',
        'login_prompt': 'Please enter your credentials to continue.',
        'username': 'Username',
        'password_code': 'Password / Login Code',
        'login': 'Login',
        'signing_in': 'Signing in...',
        'hi_user': 'Hi, {userFirstName}',
        'refresh_all_data': 'Refresh All Data',
        'dashboard': 'Dashboard',
        'stock_operations': 'Stock Operations',
        'purchasing': 'Purchasing',
        'requests': 'Requests',
        'payments': 'Payments',
        'reports': 'Reports',
        'stock_levels': 'Stock Levels',
        'transaction_history': 'Transaction History',
        'add_data': 'Add Data',
        'master_data': 'Master Data',
        'user_management': 'User Management',
        'backup_restore': 'Backup',
        'activity_log': 'Activity Log',
        'logout': 'Logout',
        'pending_requests_widget': 'Pending Requests: {count}',
        'branch': 'Branch',
        'section': 'Section',
        'total_items': 'Total Items',
        'total_stock_value': 'Total Stock Value',
        'total_suppliers': 'Total Suppliers',
        'total_branches': 'Total Branches',
        'add_new_item': 'Add New Item',
        'item_code': 'Item Code (Unique ID)',
        'barcode': 'Barcode',
        'item_name': 'Item Name',
        'unit': 'Unit (e.g., PCS, KG)',
        'category': 'Category',
        'select_category': 'Select Category',
        'packing': 'Packing',
        'cleaning': 'Cleaning',
        'default_supplier': 'Default Supplier',
        'select_supplier': 'Select Supplier',
        'default_cost': 'Default Cost',
        'add_item_btn': 'Add Item',
        'add_new_supplier': 'Add New Supplier',
        'supplier_code': 'Supplier Code (Unique ID)',
        'supplier_name': 'Supplier Name',
        'contact_info': 'Contact Info',
        'add_supplier_btn': 'Add Supplier',
        'add_new_branch': 'Add New Branch',
        'branch_code': 'Branch Code (Unique ID)',
        'branch_name': 'Branch Name',
        'add_branch_btn': 'Add Branch',
        'add_new_section': 'Add New Section',
        'section_code': 'Section Code (Unique ID)',
        'section_name': 'Section Name',
        'add_section_btn': 'Add Section',
        'auto_backup_settings': 'Automatic Backup Settings',
        'auto_backup_desc': 'Enable automatic backups to save a copy of your data periodically. Backups are stored in "StockApp Backups" in Google Drive.',
        'enable_auto_backups': 'Enable Automatic Backups',
        'backup_frequency': 'Backup Frequency',
        'daily_backup': 'Daily (at 2am)',
        'weekly_backup': 'Weekly (Sunday at 2am)',
        'manual_backup_restore': 'Manual Backup & Restore',
        'manual_backup_desc': 'Create an immediate backup or restore from a previously created file.',
        'create_new_manual_backup': 'Create New Manual Backup',
        'available_backups': 'Available Backups',
        'loading_backups': 'Loading backup list...',
        'no_backups_found': 'No backups found.',
        'backup_name': 'Backup Name',
        'date_created': 'Date Created',
        'actions': 'Actions',
        'open': 'Open',
        'restore': 'Restore',
        'items': 'Items',
        'suppliers': 'Suppliers',
        'branches': 'Branches',
        'sections': 'Sections',
        'item_list': 'Item List',
        'search_items_placeholder': 'Search by name, code, category...',
        'export_to_excel': 'Export to Excel',
        'table_h_code': 'Code',
        'table_h_name': 'Name',
        'table_h_category': 'Category',
        'table_h_unit': 'Unit',
        'table_h_cost': 'Default Cost',
        'table_h_actions': 'Actions',
        'no_items_found': 'No items found.',
        'edit': 'Edit',
        'history': 'History',
        'supplier_list': 'Supplier List',
        'search_suppliers_placeholder': 'Search by name or code...',
        'table_h_contact': 'Contact',
        'table_h_balance': 'Balance (Owed)',
        'no_suppliers_found': 'No suppliers found.',
        'branch_list': 'Branch List',
        'search_branches_placeholder': 'Search by name or code...',
        'no_branches_found': 'No branches found.',
        'section_list': 'Section List',
        'search_sections_placeholder': 'Search by name or code...',
        'no_sections_found': 'No sections found.',
        'record_payment': 'Record a Payment',
        'step1_select_supplier': '1. Select Supplier',
        'step2_select_invoices': '2. Select Invoices to Pay',
        'select_invoices_btn': 'Select Invoices...',
        'step3_payment_method': '3. Enter Payment Method',
        'payment_method_placeholder': 'e.g., Cash, Bank Transfer',
        'step4_confirm_amounts': '4. Confirm Amounts',
        'table_h_invoice_no': 'Invoice #',
        'table_h_balance_due': 'Balance Due',
        'table_h_amount_to_pay': 'Amount to Pay',
        'total_payment': 'Total Payment:',
        'submit_payment_btn': 'Submit Payment',
        'supplier_statement': 'Supplier Statement',
        'consumption_report': 'Consumption Report',
        'consumption_report_desc': 'Generate a detailed report of item consumption across selected branches and sections.',
        'select_a_supplier': 'Select a Supplier',
        'generate': 'Generate',
        'select_a_branch': 'Select a Branch',
        'all_items': 'All Items',
        'all_categories': 'All Categories',
        'all_branches': 'All Branches',
        'receive_stock': 'Receive Stock',
        'issue_stock': 'Issue Stock',
        'internal_transfer': 'Internal Transfer',
        'return_to_supplier': 'Return to Supplier',
        'in_transit_report': 'In-Transit Report',
        'adjustments': 'Adjustments',
        'pending_incoming_transfers': 'Pending Incoming Transfers',
        'table_h_date_sent': 'Date Sent',
        'table_h_from_branch': 'From Branch',
        'table_h_ref_no': 'Reference #',
        'view_confirm': 'View/Confirm',
        'receive_stock_from_supplier': 'Receive Stock from Supplier',
        'receive_against_po': 'Receive Against PO',
        'optional': '(Optional)',
        'select_a_po': 'Select a Purchase Order',
        'to_branch': 'To Branch',
        'notes_optional': 'Notes (Optional)',
        'items_to_be_received': 'Items to be Received',
        'table_h_quantity': 'Quantity',
        'table_h_cost_per_unit': 'Cost/Unit',
        'table_h_total': 'Total',
        'grand_total': 'Grand Total:',
        'select_items': 'Select Items',
        'submit_for_approval': 'Submit for Approval',
        'issue_note_details': 'Issue Note Details',
        'from_branch': 'From Branch',
        'to_section': 'To Section',
        'issue_ref_no': 'Issue Ref #',
        'items_to_be_issued': 'Items to be Issued',
        'table_h_available': 'Available',
        'table_h_qty_to_issue': 'Quantity to Issue',
        'total_items_to_issue': 'Total Items to Issue:',
        'confirm_issue_all': 'Confirm & Issue All Items',
        'send_stock_to_branch': 'Send Stock to Another Branch',
        'transfer_ref_no': 'Transfer Reference #',
        'items_to_be_transferred': 'Items to be Transferred',
        'table_h_qty_to_transfer': 'Quantity to Transfer',
        'total_items_to_transfer': 'Total Items to Transfer:',
        'confirm_transfer_all': 'Confirm & Transfer All Items',
        'credit_note_ref': 'Credit Note Ref #',
        'reason_for_return': 'Reason for Return (Optional)',
        'items_to_return': 'Items to Return',
        'table_h_qty_to_return': 'Qty to Return',
        'total_return_value': 'Total Return Value:',
        'confirm_return_all': 'Confirm & Return All Items',
        'goods_in_transit_report': 'Goods In-Transit Report',
        'table_h_to_branch': 'To Branch',
        'table_h_status': 'Status',
        'stock_count_adjustment': 'Stock Count Adjustment',
        'reference': 'Reference',
        'stocktake_example': 'e.g., Stocktake April 2024',
        'notes_reason': 'Notes / Reason',
        'items_to_adjust': 'Items to Adjust',
        'table_h_system_qty': 'System Qty',
        'table_h_physical_count': 'Physical Count',
        'table_h_adjustment': 'Adjustment',
        'process_stock_adjustment': 'Process Stock Adjustment',
        'supplier_opening_balance': 'Supplier Opening Balance Adjustment',
        'supplier_opening_balance_desc': 'Use this to set the initial amount owed to a supplier. This should typically only be done once per supplier when setting up.',
        'opening_balance_amount': 'Opening Balance (Amount Owed)',
        'set_opening_balance': 'Set Opening Balance',
        'create_po': 'Create Purchase Order',
        'view_pos': 'View Purchase Orders',
        'pending_approval': 'Pending Approval',
        'po_details': 'Purchase Order Details',
        'po_ref_no': 'PO Reference #',
        'items_to_order': 'Items to Order',
        'po_list': 'Purchase Order List',
        'table_h_po_no': 'PO #',
        'table_h_date': 'Date',
        'table_h_total_value': 'Total Value',
        'tx_pending_financial_approval': 'Transactions Pending Financial Approval',
        'table_h_type': 'Type',
        'table_h_details': 'Details',
        'table_h_amount': 'Amount',
        'my_requests': 'My Requests',
        'create_new_request': 'Create New Request',
        'request_type': 'Request Type',
        'req_items_from_branch': 'Request Items from Branch',
        'req_item_resupply': 'Request Item Resupply (Low Stock)',
        'notes_justification': 'Notes / Justification',
        'items_for_request': 'Items for Request',
        'submit_request': 'Submit Request',
        'my_request_history': 'My Request History',
        'table_h_req_id': 'ID',
        'table_h_items_req_issued': 'Items (Req/Issued)',
        'table_h_req_notes': 'Notes',
        'req_pending_approval': 'Requests Pending Approval',
        'print_list': 'Print List',
        'table_h_requested_by': 'Requested By',
        'stock_by_item': 'Stock by Item',
        'stock_by_item_your_branch': 'Stock by Item (Your Branch)',
        'stock_by_item_all_branches': 'Stock by Item (All Branches)',
        'search_items_stock_placeholder': 'Search by item name or code...',
        'item_stock_inquiry': 'Item Stock Inquiry (Drill-down)',
        'item_stock_inquiry_placeholder': 'Start typing an item name or code...',
        'no_stock_for_item': 'No stock for this item.',
        'table_h_qty': 'Qty',
        'table_h_value': 'Value',
        'transaction_log': 'Transaction Log',
        'all_types': 'All Types',
        'all_sections': 'All Sections',
        'search_tx_placeholder': 'Search by Ref#, Item Code/Name...',
        'table_h_batch_ref': 'Batch/Ref #',
        'view_print': 'View/Print',
        'users': 'Users',
        'add_new_user': 'Add New User',
        'table_h_fullname': 'Full Name',
        'table_h_role': 'Role',
        'table_h_assigned_branch_section': 'Assigned Branch/Section',
        'roles': 'Roles',
        'add_new_role': 'Add New Role',
        'table_h_rolename': 'Role Name',
        'system_activity_log': 'System Activity Log',
        'table_h_timestamp': 'Timestamp',
        'table_h_user': 'User',
        'table_h_action': 'Action',
        'table_h_description': 'Description',
        'select_items_modal_title': 'Select Items',
        'search_items_placeholder_modal': 'Search items...',
        'confirm_selection': 'Confirm Selection',
        'cancel': 'Cancel',
        'select_invoices_modal_title': 'Select Invoices to Pay',
        'edit_modal_title': 'Edit',
        'save_changes': 'Save Changes',
        'confirm_transfer_receipt_modal_title': 'Confirm Transfer Receipt',
        'reject': 'Reject',
        'confirm_receipt': 'Confirm Receipt',
        'item_history_modal_title': 'Item History',
        'price_history': 'Price History',
        'movement_history': 'Movement History',
        'close': 'Close',
        'edit_po_modal_title': 'Edit Purchase Order',
        'approve_request_modal_title': 'Approve Item Request',
        'confirm_and_issue': 'Confirm and Issue',
        'restore_from_backup_modal_title': 'Restore from Backup',
        'restore_from_backup_desc': 'You are about to restore data from the backup file:',
        'restore_step1': '1. Select which data sheets to restore.',
        'restore_step2': '2. Confirm this irreversible action.',
        'restore_danger_warning': 'EXTREME DANGER:',
        'restore_danger_text': 'This will permanently delete the current data in the selected live sheets and replace it with the data from the backup. This action CANNOT be undone.',
        'restore_prompt': 'Please type RESTORE into the box below to proceed.',
        'confirm_and_restore': 'Confirm and Restore Data',
        'session_error_toast': 'Session error. Please logout and login again.',
        'action_failed_toast': 'Action Failed: {errorMessage}',
        'data_refreshed_toast': 'Data refreshed!',
        'data_refresh_fail_toast': 'Could not refresh data. Please try again.',
        'backup_created_toast': 'Backup created: {fileName}',
        'backup_confirm_prompt': 'This will create a full, manual backup of the current spreadsheet. Continue?',
        'auto_backup_updated_toast': 'Automatic backup settings updated!',
        'auto_backup_failed_toast': 'Failed to update settings. Please try again.',
        'restore_select_sheet_toast': 'You must select at least one sheet to restore.',
        'restore_completed_toast': 'Restore completed successfully!',
        'restore_find_id_fail_toast': 'Could not find backup file ID.',
        'tx_processed_toast': '{txType} processed!',
        'tx_processed_approval_toast': '{txType} processed! Submitted for approval.',
        'select_po_first_toast': 'You must select a Purchase Order to receive stock.',
        'fill_required_fields_toast': 'Please fill all required fields and add items.',
        'status_approved': 'Approved',
        'status_pending': 'Pending Approval',
        'status_rejected': 'Rejected',
        'status_completed': 'Completed',
        'status_in_transit': 'In Transit',
        'status_cancelled': 'Cancelled',
        'po': 'Purchase Order',
        'receive': 'Receive',
        'transfer': 'Transfer',
        'issue': 'Issue',
        'return': 'Return',
        'stock_adjustment': 'Stock Adjustment',
        'history_for': 'History for: {itemName} ({itemCode})',
        'edit_item': 'Edit Item',
        'edit_supplier': 'Edit Supplier',
        'edit_branch': 'Edit Branch',
        'edit_section': 'Edit Section',
        'edit_user': 'Edit User',
        'add_new_user_title': 'Add New User',
        'edit_user_password_label': 'Password / Login Code (leave blank to keep unchanged)',
        'edit_user_password_label_new': 'Password / Login Code',
        'toggle_user_enable': 'Enable User',
        'toggle_user_disable': 'Disable User',
        'toggle_user_enable_confirm': 'Are you sure you want to enable this user? They will be able to log in again.',
        'toggle_user_disable_confirm': 'Are you sure you want to disable this user? They will not be able to log in.',
        'user_enabled_toast': 'User enabled successfully!',
        'user_disabled_toast': 'User disabled successfully!',
        'edit_permissions_for': 'Edit Permissions for {roleName}',
        'delete_role': 'Delete Role',
        'add_role_prompt': 'Enter new role name:',
        'update_success_toast': '{type} updated successfully!',
        'add_success_toast': '{type} added successfully!',
        'no_invoices_for_supplier': 'No invoices found for this supplier.',
        'no_unpaid_invoices': 'No unpaid invoices for this supplier.',
        'invoice_modal_details': 'Date: {date} | Amount Due: {balance} EGP',
        'no_items_selected_toast': 'No items selected. Click "Select Items".',
        'no_items_for_adjustment': 'No items selected for adjustment.',
        'report_period_all_time': 'for all time',
        'report_period_from_to': 'from {startDate} to {endDate}',
        'report_period_from': 'from {startDate}',
        'report_period_until': 'until {endDate}',
        'supplier_statement_title': 'Supplier Statement: {supplierName}',
        'date_generated': 'Date Generated:',
        'table_h_debit': 'Debit',
        'table_h_credit': 'Credit',
        'opening_balance_as_of': 'Opening Balance as of {date}',
        'closing_balance': 'Closing Balance:',
        'consumption_report_title': '{title}: {entityName}',
        'table_h_total_qty_consumed': 'Total Qty Consumed',
        'table_h_total_value_consumed': 'Total Value',
        'grand_total_value': 'Grand Total Value:',
        'price_change_log': 'Price Change Log',
        'table_h_old_cost': 'Old Cost',
        'table_h_new_cost': 'New Cost',
        'table_h_change': 'Change',
        'table_h_source': 'Source',
        'table_h_updated_by': 'Updated By',
        'no_price_history': 'No price history found for this item.',
        'no_movements_found': 'No movements found for the selected filters.',
        'table_h_qty_in': 'Qty In',
        'table_h_qty_out': 'Qty Out',
        'movement_details_receive': 'From: {supplier} To: {branch}',
        'movement_details_issue': 'From: {branch} To: {section}',
        'movement_details_transfer_out': 'Sent from: {fromBranch} To: {toBranch}',
        'movement_details_transfer_in': 'Received at: {toBranch} From: {fromBranch}',
        'movement_details_return': 'Returned from: {branch} To: {supplier}',
        'movement_details_adjustment': 'Stock count at: {branch}',
        'no_pending_financial_approval': 'No items are pending financial approval.',
        'approve': 'Approve',
        'approve_confirm_prompt': 'Are you sure you want to approve this {type}?',
        'reject_confirm_prompt': 'Are you sure you want to reject this {type}? This action cannot be undone.',
        'approved_toast': '{type} approved successfully!',
        'rejected_toast': '{type} rejected successfully!',
    },
    'ar': {
        'packing_stock': 'مخزون التعبئة',
        'login_prompt': 'الرجاء إدخال بيانات الاعتماد الخاصة بك للمتابعة.',
        'username': 'اسم المستخدم',
        'password_code': 'كلمة المرور / رمز الدخول',
        'login': 'تسجيل الدخول',
        'signing_in': 'جاري تسجيل الدخول...',
        'hi_user': 'مرحباً، {userFirstName}',
        'refresh_all_data': 'تحديث كل البيانات',
        'dashboard': 'لوحة التحكم',
        'stock_operations': 'عمليات المخزون',
        'purchasing': 'المشتريات',
        'requests': 'الطلبات',
        'payments': 'المدفوعات',
        'reports': 'التقارير',
        'stock_levels': 'مستويات المخزون',
        'transaction_history': 'سجل الحركات',
        'add_data': 'إضافة بيانات',
        'master_data': 'البيانات الرئيسية',
        'user_management': 'إدارة المستخدمين',
        'backup_restore': 'النسخ الاحتياطي',
        'activity_log': 'سجل النشاط',
        'logout': 'تسجيل الخروج',
        'pending_requests_widget': 'طلبات معلقة: {count}',
        'branch': 'الفرع',
        'section': 'القسم',
        'total_items': 'إجمالي الأصناف',
        'total_stock_value': 'إجمالي قيمة المخزون',
        'total_suppliers': 'إجمالي الموردين',
        'total_branches': 'إجمالي الفروع',
        'add_new_item': 'إضافة صنف جديد',
        'item_code': 'كود الصنف (فريد)',
        'barcode': 'الباركود',
        'item_name': 'اسم الصنف',
        'unit': 'الوحدة (مثال: قطعة، كجم)',
        'category': 'الفئة',
        'select_category': 'اختر الفئة',
        'packing': 'تغليف',
        'cleaning': 'تنظيف',
        'default_supplier': 'المورد الافتراضي',
        'select_supplier': 'اختر المورد',
        'default_cost': 'التكلفة الافتراضية',
        'add_item_btn': 'إضافة صنف',
        'add_new_supplier': 'إضافة مورد جديد',
        'supplier_code': 'كود المورد (فريد)',
        'supplier_name': 'اسم المورد',
        'contact_info': 'معلومات الاتصال',
        'add_supplier_btn': 'إضافة مورد',
        'add_new_branch': 'إضافة فرع جديد',
        'branch_code': 'كود الفرع (فريد)',
        'branch_name': 'اسم الفرع',
        'add_branch_btn': 'إضافة فرع',
        'add_new_section': 'إضافة قسم جديد',
        'section_code': 'كود القسم (فريد)',
        'section_name': 'اسم القسم',
        'add_section_btn': 'إضافة قسم',
        'auto_backup_settings': 'إعدادات النسخ الاحتياطي التلقائي',
        'auto_backup_desc': 'قم بتمكين النسخ الاحتياطي التلقائي لحفظ نسخة من بياناتك بشكل دوري. يتم تخزين النسخ الاحتياطية في "StockApp Backups" في Google Drive.',
        'enable_auto_backups': 'تمكين النسخ الاحتياطي التلقائي',
        'backup_frequency': 'تكرار النسخ الاحتياطي',
        'daily_backup': 'يوميًا (الساعة 2 صباحًا)',
        'weekly_backup': 'أسبوعيًا (الأحد الساعة 2 صباحًا)',
        'manual_backup_restore': 'النسخ الاحتياطي والاستعادة اليدوي',
        'manual_backup_desc': 'أنشئ نسخة احتياطية فورية أو قم بالاستعادة من ملف تم إنشاؤه مسبقًا.',
        'create_new_manual_backup': 'إنشاء نسخة احتياطية يدوية جديدة',
        'available_backups': 'النسخ الاحتياطية المتاحة',
        'loading_backups': 'جاري تحميل قائمة النسخ الاحتياطية...',
        'no_backups_found': 'لم يتم العثور على نسخ احتياطية.',
        'backup_name': 'اسم النسخة الاحتياطية',
        'date_created': 'تاريخ الإنشاء',
        'actions': 'الإجراءات',
        'open': 'فتح',
        'restore': 'استعادة',
        'items': 'الأصناف',
        'suppliers': 'الموردون',
        'branches': 'الفروع',
        'sections': 'الأقسام',
        'item_list': 'قائمة الأصناف',
        'search_items_placeholder': 'ابحث بالاسم، الكود، الفئة...',
        'export_to_excel': 'تصدير إلى Excel',
        'table_h_code': 'الكود',
        'table_h_name': 'الاسم',
        'table_h_category': 'الفئة',
        'table_h_unit': 'الوحدة',
        'table_h_cost': 'التكلفة الافتراضية',
        'table_h_actions': 'الإجراءات',
        'no_items_found': 'لم يتم العثور على أصناف.',
        'edit': 'تعديل',
        'history': 'السجل',
        'supplier_list': 'قائمة الموردين',
        'search_suppliers_placeholder': 'ابحث بالاسم أو الكود...',
        'table_h_contact': 'جهة الاتصال',
        'table_h_balance': 'الرصيد (مستحق)',
        'no_suppliers_found': 'لم يتم العثور على موردين.',
        'branch_list': 'قائمة الفروع',
        'search_branches_placeholder': 'ابحث بالاسم أو الكود...',
        'no_branches_found': 'لم يتم العثور على فروع.',
        'section_list': 'قائمة الأقسام',
        'search_sections_placeholder': 'ابحث بالاسم أو الكود...',
        'no_sections_found': 'لم يتم العثور على أقسام.',
        'record_payment': 'تسجيل دفعة',
        'step1_select_supplier': '1. اختر المورد',
        'step2_select_invoices': '2. اختر الفواتير للدفع',
        'select_invoices_btn': 'اختيار الفواتير...',
        'step3_payment_method': '3. أدخل طريقة الدفع',
        'payment_method_placeholder': 'مثال: نقدًا، تحويل بنكي',
        'step4_confirm_amounts': '4. تأكيد المبالغ',
        'table_h_invoice_no': 'رقم الفاتورة',
        'table_h_balance_due': 'الرصيد المستحق',
        'table_h_amount_to_pay': 'المبلغ المدفوع',
        'total_payment': 'إجمالي الدفعة:',
        'submit_payment_btn': 'إرسال الدفعة',
        'supplier_statement': 'كشف حساب مورد',
        'consumption_report': 'تقرير الاستهلاك',
        'consumption_report_desc': 'إنشاء تقرير مفصل لاستهلاك الأصناف عبر الفروع والأقسام المحددة.',
        'select_a_supplier': 'اختر موردًا',
        'generate': 'إنشاء',
        'select_a_branch': 'اختر فرعًا',
        'all_items': 'كل الأصناف',
        'all_categories': 'كل الفئات',
        'all_branches': 'كل الفروع',
        'receive_stock': 'استلام بضاعة',
        'issue_stock': 'صرف بضاعة',
        'internal_transfer': 'تحويل داخلي',
        'return_to_supplier': 'مرتجع للمورد',
        'in_transit_report': 'تقرير البضاعة بالطريق',
        'adjustments': 'التسويات',
        'pending_incoming_transfers': 'تحويلات واردة معلقة',
        'table_h_date_sent': 'تاريخ الإرسال',
        'table_h_from_branch': 'من فرع',
        'table_h_ref_no': 'رقم المرجع',
        'view_confirm': 'عرض/تأكيد',
        'receive_stock_from_supplier': 'استلام بضاعة من مورد',
        'receive_against_po': 'استلام مقابل طلب شراء',
        'optional': '(اختياري)',
        'select_a_po': 'اختر طلب شراء',
        'to_branch': 'إلى فرع',
        'notes_optional': 'ملاحظات (اختياري)',
        'items_to_be_received': 'الأصناف المراد استلامها',
        'table_h_quantity': 'الكمية',
        'table_h_cost_per_unit': 'التكلفة/الوحدة',
        'table_h_total': 'الإجمالي',
        'grand_total': 'الإجمالي الكلي:',
        'select_items': 'اختيار الأصناف',
        'submit_for_approval': 'إرسال للموافقة',
        'issue_note_details': 'تفاصيل إذن الصرف',
        'from_branch': 'من فرع',
        'to_section': 'إلى قسم',
        'issue_ref_no': 'رقم مرجع الصرف',
        'items_to_be_issued': 'الأصناف المراد صرفها',
        'table_h_available': 'المتاح',
        'table_h_qty_to_issue': 'الكمية المصروفة',
        'total_items_to_issue': 'إجمالي الأصناف المصروفة:',
        'confirm_issue_all': 'تأكيد وصرف كل الأصناف',
        'send_stock_to_branch': 'إرسال بضاعة لفرع آخر',
        'transfer_ref_no': 'رقم مرجع التحويل',
        'items_to_be_transferred': 'الأصناف المراد تحويلها',
        'table_h_qty_to_transfer': 'الكمية المحولة',
        'total_items_to_transfer': 'إجمالي الأصناف المحولة:',
        'confirm_transfer_all': 'تأكيد وتحويل كل الأصناف',
        'credit_note_ref': 'رقم مرجع إشعار الدائن',
        'reason_for_return': 'سبب الإرجاع (اختياري)',
        'items_to_return': 'الأصناف المراد إرجاعها',
        'table_h_qty_to_return': 'الكمية المرتجعة',
        'total_return_value': 'إجمالي قيمة المرتجع:',
        'confirm_return_all': 'تأكيد وإرجاع كل الأصناف',
        'goods_in_transit_report': 'تقرير البضاعة بالطريق',
        'table_h_to_branch': 'إلى فرع',
        'table_h_status': 'الحالة',
        'stock_count_adjustment': 'تسوية جرد المخزون',
        'reference': 'المرجع',
        'stocktake_example': 'مثال: جرد أبريل 2024',
        'notes_reason': 'ملاحظات / سبب',
        'items_to_adjust': 'الأصناف المراد تسويتها',
        'table_h_system_qty': 'كمية النظام',
        'table_h_physical_count': 'العد الفعلي',
        'table_h_adjustment': 'التسوية',
        'process_stock_adjustment': 'تنفيذ تسوية المخزون',
        'supplier_opening_balance': 'تسوية الرصيد الافتتاحي للمورد',
        'supplier_opening_balance_desc': 'استخدم هذا لتعيين المبلغ الأولي المستحق للمورد. يجب أن يتم ذلك عادة مرة واحدة فقط لكل مورد عند الإعداد.',
        'opening_balance_amount': 'الرصيد الافتتاحي (المبلغ المستحق)',
        'set_opening_balance': 'تعيين الرصيد الافتتاحي',
        'create_po': 'إنشاء طلب شراء',
        'view_pos': 'عرض طلبات الشراء',
        'pending_approval': 'قيد الموافقة',
        'po_details': 'تفاصيل طلب الشراء',
        'po_ref_no': 'رقم مرجع طلب الشراء',
        'items_to_order': 'الأصناف المطلوبة',
        'po_list': 'قائمة طلبات الشراء',
        'table_h_po_no': 'رقم طلب الشراء',
        'table_h_date': 'التاريخ',
        'table_h_total_value': 'القيمة الإجمالية',
        'tx_pending_financial_approval': 'حركات تنتظر الموافقة المالية',
        'table_h_type': 'النوع',
        'table_h_details': 'التفاصيل',
        'table_h_amount': 'المبلغ',
        'my_requests': 'طلباتي',
        'create_new_request': 'إنشاء طلب جديد',
        'request_type': 'نوع الطلب',
        'req_items_from_branch': 'طلب أصناف من الفرع',
        'req_item_resupply': 'طلب إعادة تزويد أصناف (نقص مخزون)',
        'notes_justification': 'ملاحظات / مبرر',
        'items_for_request': 'أصناف للطلب',
        'submit_request': 'إرسال الطلب',
        'my_request_history': 'سجل طلباتي',
        'table_h_req_id': 'المعرف',
        'table_h_items_req_issued': 'الأصناف (مطلوب/مصروف)',
        'table_h_req_notes': 'ملاحظات',
        'req_pending_approval': 'طلبات تنتظر الموافقة',
        'print_list': 'طباعة القائمة',
        'table_h_requested_by': 'مقدم الطلب',
        'stock_by_item': 'المخزون حسب الصنف',
        'stock_by_item_your_branch': 'المخزون حسب الصنف (فرعك)',
        'stock_by_item_all_branches': 'المخزون حسب الصنف (كل الفروع)',
        'search_items_stock_placeholder': 'ابحث باسم الصنف أو الكود...',
        'item_stock_inquiry': 'استعلام عن مخزون صنف',
        'item_stock_inquiry_placeholder': 'ابدأ بكتابة اسم الصنف أو الكود...',
        'no_stock_for_item': 'لا يوجد مخزون لهذا الصنف.',
        'table_h_qty': 'الكمية',
        'table_h_value': 'القيمة',
        'transaction_log': 'سجل الحركات',
        'all_types': 'كل الأنواع',
        'all_sections': 'كل الأقسام',
        'search_tx_placeholder': 'ابحث بالمرجع، كود/اسم الصنف...',
        'table_h_batch_ref': 'رقم الدفعة/المرجع',
        'view_print': 'عرض/طباعة',
        'users': 'المستخدمون',
        'add_new_user': 'إضافة مستخدم جديد',
        'table_h_fullname': 'الاسم الكامل',
        'table_h_role': 'الدور',
        'table_h_assigned_branch_section': 'الفرع/القسم المعين',
        'roles': 'الأدوار',
        'add_new_role': 'إضافة دور جديد',
        'table_h_rolename': 'اسم الدور',
        'system_activity_log': 'سجل نشاط النظام',
        'table_h_timestamp': 'الوقت',
        'table_h_user': 'المستخدم',
        'table_h_action': 'الإجراء',
        'table_h_description': 'الوصف',
        'select_items_modal_title': 'اختر الأصناف',
        'search_items_placeholder_modal': 'ابحث عن أصناف...',
        'confirm_selection': 'تأكيد الاختيار',
        'cancel': 'إلغاء',
        'select_invoices_modal_title': 'اختر الفواتير للدفع',
        'edit_modal_title': 'تعديل',
        'save_changes': 'حفظ التغييرات',
        'confirm_transfer_receipt_modal_title': 'تأكيد استلام التحويل',
        'reject': 'رفض',
        'confirm_receipt': 'تأكيد الاستلام',
        'item_history_modal_title': 'سجل الصنف',
        'price_history': 'سجل الأسعار',
        'movement_history': 'سجل الحركات',
        'close': 'إغلاق',
        'edit_po_modal_title': 'تعديل طلب الشراء',
        'approve_request_modal_title': 'الموافقة على طلب الصنف',
        'confirm_and_issue': 'تأكيد وصرف',
        'restore_from_backup_modal_title': 'الاستعادة من نسخة احتياطية',
        'restore_from_backup_desc': 'أنت على وشك استعادة البيانات من ملف النسخ الاحتياطي:',
        'restore_step1': '1. اختر أوراق البيانات التي تريد استعادتها.',
        'restore_step2': '2. قم بتأكيد هذا الإجراء الذي لا يمكن التراجع عنه.',
        'restore_danger_warning': 'خطر شديد:',
        'restore_danger_text': 'سيؤدي هذا إلى حذف البيانات الحالية نهائيًا في الأوراق المحددة واستبدالها بالبيانات من النسخة الاحتياطية. لا يمكن التراجع عن هذا الإجراء.',
        'restore_prompt': 'الرجاء كتابة "RESTORE" في المربع أدناه للمتابعة.',
        'confirm_and_restore': 'تأكيد واستعادة البيانات',
        'session_error_toast': 'خطأ في الجلسة. يرجى تسجيل الخروج والدخول مرة أخرى.',
        'action_failed_toast': 'فشل الإجراء: {errorMessage}',
        'data_refreshed_toast': 'تم تحديث البيانات!',
        'data_refresh_fail_toast': 'لا يمكن تحديث البيانات. يرجى المحاولة مرة أخرى.',
        'backup_created_toast': 'تم إنشاء النسخة الاحتياطية: {fileName}',
        'backup_confirm_prompt': 'سيؤدي هذا إلى إنشاء نسخة احتياطية يدوية كاملة من جدول البيانات الحالي. هل تريد المتابعة؟',
        'auto_backup_updated_toast': 'تم تحديث إعدادات النسخ الاحتياطي التلقائي!',
        'auto_backup_failed_toast': 'فشل تحديث الإعدادات. يرجى المحاولة مرة أخرى.',
        'restore_select_sheet_toast': 'يجب عليك تحديد ورقة واحدة على الأقل لاستعادتها.',
        'restore_completed_toast': 'اكتملت الاستعادة بنجاح!',
        'restore_find_id_fail_toast': 'لم يتم العثور على معرف ملف النسخ الاحتياطي.',
        'tx_processed_toast': 'تمت معالجة {txType}!',
        'tx_processed_approval_toast': 'تمت معالجة {txType}! أُرسلت للموافقة.',
        'select_po_first_toast': 'يجب عليك تحديد طلب شراء لاستلام البضاعة.',
        'fill_required_fields_toast': 'يرجى ملء جميع الحقول المطلوبة وإضافة أصناف.',
        'status_approved': 'تمت الموافقة',
        'status_pending': 'قيد الموافقة',
        'status_rejected': 'مرفوض',
        'status_completed': 'مكتمل',
        'status_in_transit': 'قيد النقل',
        'status_cancelled': 'ملغى',
        'po': 'طلب شراء',
        'receive': 'استلام',
        'transfer': 'تحويل',
        'issue': 'صرف',
        'return': 'مرتجع',
        'stock_adjustment': 'تسوية مخزون',
        'history_for': 'سجل لـ: {itemName} ({itemCode})',
        'edit_item': 'تعديل صنف',
        'edit_supplier': 'تعديل مورد',
        'edit_branch': 'تعديل فرع',
        'edit_section': 'تعديل قسم',
        'edit_user': 'تعديل مستخدم',
        'add_new_user_title': 'إضافة مستخدم جديد',
        'edit_user_password_label': 'كلمة المرور / رمز الدخول (اتركه فارغًا للحفاظ على القديم)',
        'edit_user_password_label_new': 'كلمة المرور / رمز الدخول',
        'toggle_user_enable': 'تمكين المستخدم',
        'toggle_user_disable': 'تعطيل المستخدم',
        'toggle_user_enable_confirm': 'هل أنت متأكد من رغبتك في تمكين هذا المستخدم؟ سيتمكن من تسجيل الدخول مرة أخرى.',
        'toggle_user_disable_confirm': 'هل أنت متأكد من رغبتك في تعطيل هذا المستخدم؟ لن يتمكن من تسجيل الدخول.',
        'user_enabled_toast': 'تم تمكين المستخدم بنجاح!',
        'user_disabled_toast': 'تم تعطيل المستخدم بنجاح!',
        'edit_permissions_for': 'تعديل صلاحيات {roleName}',
        'delete_role': 'حذف الدور',
        'add_role_prompt': 'أدخل اسم الدور الجديد:',
        'update_success_toast': 'تم تحديث {type} بنجاح!',
        'add_success_toast': 'تمت إضافة {type} بنجاح!',
        'no_invoices_for_supplier': 'لا توجد فواتير لهذا المورد.',
        'no_unpaid_invoices': 'لا توجد فواتير غير مدفوعة لهذا المورد.',
        'invoice_modal_details': 'التاريخ: {date} | المبلغ المستحق: {balance} جنيه مصري',
        'no_items_selected_toast': 'لم يتم تحديد أصناف. انقر على "اختيار الأصناف".',
        'no_items_for_adjustment': 'لم يتم تحديد أصناف للتسوية.',
        'report_period_all_time': 'لكل الأوقات',
        'report_period_from_to': 'من {startDate} إلى {endDate}',
        'report_period_from': 'من {startDate}',
        'report_period_until': 'حتى {endDate}',
        'supplier_statement_title': 'كشف حساب مورد: {supplierName}',
        'date_generated': 'تاريخ الإنشاء:',
        'table_h_debit': 'مدين',
        'table_h_credit': 'دائن',
        'opening_balance_as_of': 'الرصيد الافتتاحي في {date}',
        'closing_balance': 'الرصيد الختامي:',
        'consumption_report_title': '{title}: {entityName}',
        'table_h_total_qty_consumed': 'إجمالي الكمية المستهلكة',
        'table_h_total_value_consumed': 'القيمة الإجمالية',
        'grand_total_value': 'القيمة الإجمالية الكلية:',
        'price_change_log': 'سجل تغيير الأسعار',
        'table_h_old_cost': 'التكلفة القديمة',
        'table_h_new_cost': 'التكلفة الجديدة',
        'table_h_change': 'التغيير',
        'table_h_source': 'المصدر',
        'table_h_updated_by': 'تم التحديث بواسطة',
        'no_price_history': 'لا يوجد سجل أسعار لهذا الصنف.',
        'no_movements_found': 'لم يتم العثور على حركات للمرشحات المحددة.',
        'table_h_qty_in': 'كمية واردة',
        'table_h_qty_out': 'كمية صادرة',
        'movement_details_receive': 'من: {supplier} إلى: {branch}',
        'movement_details_issue': 'من: {branch} إلى: {section}',
        'movement_details_transfer_out': 'مرسل من: {fromBranch} إلى: {toBranch}',
        'movement_details_transfer_in': 'مستلم في: {toBranch} من: {fromBranch}',
        'movement_details_return': 'مرتجع من: {branch} إلى: {supplier}',
        'movement_details_adjustment': 'جرد مخزون في: {branch}',
        'no_pending_financial_approval': 'لا توجد بنود تنتظر الموافقة المالية.',
        'approve': 'موافقة',
        'approve_confirm_prompt': 'هل أنت متأكد أنك تريد الموافقة على {type}؟',
        'reject_confirm_prompt': 'هل أنت متأكد أنك تريد رفض {type}؟ لا يمكن التراجع عن هذا الإجراء.',
        'approved_toast': 'تمت الموافقة على {type} بنجاح!',
        'rejected_toast': 'تم رفض {type} بنجاح!',
    }
};

const _t = (key, replacements = {}) => {
    let text = translations[state.currentLanguage]?.[key] || translations['en'][key] || key;
    for (const placeholder in replacements) {
        text = text.replace(`{${placeholder}}`, replacements[placeholder]);
    }
    return text;
};

function applyTranslations() {
    const lang = state.currentLanguage;
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.dataset.translateKey;
        el.textContent = _t(key);
    });
    
    document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
        const key = el.dataset.translatePlaceholder;
        el.placeholder = _t(key);
    });
}
